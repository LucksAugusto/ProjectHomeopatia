<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Consulta Laboratorio</title>
	<link type="text/css" rel="stylesheet" href="css/material.min.css" />
	<link type="text/css" rel="stylesheet" href="font/fonts.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
</h:head>
<h:body acceptcharset="ISO-8859-1">

	<div class="demo-layout-waterfall mdl-layout mdl-js-layout">
	  <header class="mdl-layout__header mdl-layout__header--waterfall mdl-color--blue-grey">
	    <!-- Top row, always visible -->
	    <div class="mdl-layout__header-row">
	      <!-- Title -->
	      <span class="mdl-layout-title">Consultas</span>
	      <div class="mdl-layout-spacer"></div>
	      <nav class="mdl-navigation">
	        <a class="mdl-navigation__link" href="">Especialidades</a>
	        <a class="mdl-navigation__link" href="">Laboratórios</a>
	        <a class="mdl-navigation__link" href="">Medicamentos</a>
	        <a class="mdl-navigation__link" href="">Receitas</a>
	      </nav>
	      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
	                  mdl-textfield--floating-label mdl-textfield--align-right">
	        <label class="mdl-button mdl-js-button mdl-button--icon"
	               for="waterfall-exp">
	          <i class="material-icons">search</i>
	        </label>
	        <div class="mdl-textfield__expandable-holder">
	          <input class="mdl-textfield__input search" type="text" name="pesquisa"
	                 id="waterfall-exp" alt="dataSort"/>
	        </div>
	      </div>
	    </div>
	  </header>
	  <main class="mdl-layout__content">
	    <div class="page-content">
	    <!-- Your content goes here -->
	    <div class="mdl-card mdl-cell mdl-cell--1-offset mdl-cell--10-col mdl-cell--8-col-tablet mdl-shadow--8dp mdl-color--grey-100 card card-table">
	    	<button onclick="doAction()" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--4dp mdl-color--primary fab-bottom-right" id="refresh">
	            <i class="material-icons" role="presentation">remove</i>
            </button>
           
            <script>
            doAction = function() {
                var hidden = $("#comando");
                if (hidden === undefined) {
                	console.log('fail');
                } else {
                    hidden.click();
                }
            }
            </script>
            <div class="mdl-card__title card-title">
             	<h4 class="mdl-card__title-text">Laboratorio</h4>
            </div>
		    <div class="mdl-grid">
			<div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet">
				<h:form action="#">
					<div class="mdl-grid">
					<div class="mdl-cell"></div>
					<div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet">
						<h:dataTable value="#{labmb.lista}" var="lab" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable dataSort">
						
						  	<h:column headerText="Nome">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Nome Lab"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.nome}" />
						    </h:column>
						    
						    <h:column headerText="Endereco">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Endereço"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.endereco}" />
						    </h:column>
						    
						    <h:column headerText="Numero">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Numero"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.numero}" />
						    </h:column>
						    
						    <h:column headerText="Bairro">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Bairro"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.bairro}" />
						    </h:column>
						    
						    	  	<h:column headerText="Telefone">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Telefone"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.telefone}" />
						    </h:column>
						    
						    <h:column headerText="Fax">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Fax"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.fax}" />
						    </h:column>
						    
						    <h:column headerText="Email">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Email"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.email}" />
						    </h:column>
						    
						    <h:column headerText="Atendimento">				
						    	<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Atendimento"/>
						    	</f:facet>
						    	<h:outputText value="#{lab.atendimento}" />
						    </h:column>
						    
							<h:column headerText="Operacoes">
							<f:facet class="mdl-data-table__cell--non-numeric" name="header">
						    		<h:outputText value="Operações"/>
						    	</f:facet>
						    	
						    		<h:commandButton value="Remover"   id="comando" action="#{labmb.remover(lab.idLaboratorio)}"/>
						    		<h:commandButton value="Editar" action="#{labmb.alterar(lab)}"/>
							
							</h:column>
						</h:dataTable >
					</div>
					</div>
				</h:form>
			</div>
			</div>
	    </div>
	    </div>
	  </main>
	</div>
	<p:growl id="messages" showDetail="true" />
		<p:gmap id="gmap" center="-23.5280419,-46.527416" zoom="15" type="ROADMAP" style="width:100%;height:400px"
		    model="#{addMarkersView.emptyModel}" onPointClick="handlePointClick(event);" widgetVar="map" /> 
		<p:dialog widgetVar="dlg" showEffect="fade">
		    <h:form prependId="false">
		        <h:panelGrid columns="2">
		            <h:outputLabel for="title" value="Title:" />
		            <p:inputText id="title" value="#{addMarkersView.title}" />
		 
		            <f:facet name="footer">
		                <p:commandButton value="Add" actionListener="#{addMarkersView.addMarker}" update=":messages" oncomplete="markerAddComplete()" />
		                <p:commandButton value="Cancel" onclick="return cancel()" />
		            </f:facet>
		        </h:panelGrid>
		 
		        <h:inputHidden id="lat" value="#{addMarkersView.lat}" />
		        <h:inputHidden id="lng" value="#{addMarkersView.lng}" />
		    </h:form>
		</p:dialog>
	
	<script src="js/combobox.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/material.min.js" />
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script>
						$(function(){
						    $(".search").keyup(function(){
						    	console.log(this);
						        //pega o css da tabela 
						        var tabela = $(this).attr('alt');
						        if( $(this).val() != ""){
						            $("."+tabela+" tbody>tr").hide();
						            $("."+tabela+" td:contains-ci('" + $(this).val() + "')").parent("tr").show();
						        } else{
						            $("."+tabela+" tbody>tr").show();
						        }
						    }); 
						});
						$.extend($.expr[":"], {
						    "contains-ci": function(elem, i, match, array) {
						        return (elem.textContent || elem.innerText || $(elem).text() || "").toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
						    }
						});
						</script>
</h:body>
</html>